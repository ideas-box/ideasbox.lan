FROM debian:stretch-slim

ENV LANG C.UTF-8

# Install our dependencies
RUN \
  apt update -q; \
  apt full-upgrade --purge -q -y; \
  apt install -q -y --no-install-recommends \
    build-essential \
	debhelper \
	dh-virtualenv \
	fakeroot \
	autoconf \
	automake \
	cython3 \
	gcc \
	git \
	libdbus-glib-1-dev \
	libjpeg-dev \
	libtool \
	libxml2-dev \
	libxslt1-dev \
	libyaml-dev \
	make \
	python3 \
	python3-dev \
	python3-pip \
	python3-setuptools \
	python3-virtualenv \
	python3-wheel \
	virtualenv \
	zlib1g-dev; \
  apt-get clean -y; \
  rm -fr \
    /usr/share/doc/* \
    /var/cache/debconf/*

# Add a user to run the CI as
RUN useradd --create-home ideascube
USER ideascube
WORKDIR /home/ideascube
